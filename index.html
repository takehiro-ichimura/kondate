<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>週間食事計画管理</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>週間食事計画管理</h1>
            <nav>
                <button class="tab-btn active" onclick="showTab('setup')">設定</button>
                <button class="tab-btn" onclick="showTab('weekly-plan')">週間献立</button>
                <button class="tab-btn" onclick="showTab('shopping')">買い物リスト</button>
                <button class="tab-btn" onclick="showTab('budget')">予算管理</button>
                <button class="tab-btn" onclick="showTab('records')">記録・分析</button>
            </nav>
        </header>

        <main>
            <!-- 初期設定タブ -->
            <div id="setup" class="tab-content active">
                <h2>食事プラン設定</h2>
                <div class="setup-form">
                    <div class="form-section">
                        <h3>基本設定</h3>
                        <div class="input-row">
                            <label for="weekly-budget-setup">週間予算:</label>
                            <input type="number" id="weekly-budget-setup" placeholder="円">
                        </div>
                        <div class="input-row">
                            <label for="daily-calories">1日の目標カロリー:</label>
                            <input type="number" id="daily-calories" placeholder="kcal" value="2000">
                        </div>
                        <div class="input-row">
                            <label for="meals-per-day">1日の食事回数:</label>
                            <select id="meals-per-day">
                                <option value="2">2回（朝・夕）</option>
                                <option value="3" selected>3回（朝・昼・夕）</option>
                                <option value="4">4回（朝・昼・間食・夕）</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>健康度設定</h3>
                        <div class="health-slider-container">
                            <label for="health-level">健康度レベル:</label>
                            <input type="range" id="health-level" min="1" max="5" value="3" step="1">
                            <div class="slider-labels">
                                <span>不健康</span>
                                <span>普通</span>
                                <span>健康的</span>
                            </div>
                            <div class="health-description" id="health-description">バランスの取れた食事</div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>料理の好み</h3>
                        <div class="cuisine-preferences">
                            <label class="cuisine-option">
                                <input type="checkbox" value="japanese" checked>
                                <span>和食</span>
                            </label>
                            <label class="cuisine-option">
                                <input type="checkbox" value="western">
                                <span>洋食</span>
                            </label>
                            <label class="cuisine-option">
                                <input type="checkbox" value="chinese">
                                <span>中華</span>
                            </label>
                            <label class="cuisine-option">
                                <input type="checkbox" value="italian">
                                <span>イタリアン</span>
                            </label>
                            <label class="cuisine-option">
                                <input type="checkbox" value="korean">
                                <span>韓国料理</span>
                            </label>
                            <label class="cuisine-option">
                                <input type="checkbox" value="healthy">
                                <span>ヘルシー料理</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>特別な要望・制限</h3>
                        <div class="dietary-restrictions">
                            <label class="restriction-option">
                                <input type="checkbox" value="vegetarian">
                                <span>ベジタリアン</span>
                            </label>
                            <label class="restriction-option">
                                <input type="checkbox" value="low-carb">
                                <span>糖質制限</span>
                            </label>
                            <label class="restriction-option">
                                <input type="checkbox" value="high-protein">
                                <span>高タンパク</span>
                            </label>
                            <label class="restriction-option">
                                <input type="checkbox" value="low-sodium">
                                <span>減塩</span>
                            </label>
                        </div>
                    </div>

                    <div class="generate-section">
                        <button class="generate-btn" onclick="generateWeeklyPlan()">
                            🍽️ 週間献立を自動生成
                        </button>
                    </div>
                </div>
            </div>

            <!-- 予算管理タブ -->
            <div id="budget" class="tab-content">
                <h2>予算管理</h2>
                <div class="budget-section">
                    <div class="input-group">
                        <label for="weekly-budget">週間予算:</label>
                        <input type="number" id="weekly-budget" placeholder="円">
                        <button onclick="setBudget()">設定</button>
                    </div>
                    <div class="budget-display">
                        <div class="budget-item">
                            <span>設定予算:</span>
                            <span id="total-budget">0円</span>
                        </div>
                        <div class="budget-item">
                            <span>使用済み:</span>
                            <span id="used-budget">0円</span>
                        </div>
                        <div class="budget-item">
                            <span>残り予算:</span>
                            <span id="remaining-budget">0円</span>
                        </div>
                    </div>
                </div>
            </div>


            <!-- 週間献立タブ -->
            <div id="weekly-plan" class="tab-content">
                <h2>週間献立</h2>
                <div class="plan-controls">
                    <button class="regenerate-btn" onclick="generateWeeklyPlan()">🔄 献立を再生成</button>
                    <div class="calories-summary" id="calories-summary"></div>
                </div>
                <div class="weekly-grid">
                    <div class="day-column" data-day="monday">
                        <h3>月曜日</h3>
                        <div class="meals">
                            <div class="meal" data-meal="breakfast">
                                <h4>朝食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                            <div class="meal" data-meal="lunch">
                                <h4>昼食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                            <div class="meal" data-meal="dinner">
                                <h4>夕食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                        </div>
                    </div>
                    <div class="day-column" data-day="tuesday">
                        <h3>火曜日</h3>
                        <div class="meals">
                            <div class="meal" data-meal="breakfast">
                                <h4>朝食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                            <div class="meal" data-meal="lunch">
                                <h4>昼食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                            <div class="meal" data-meal="dinner">
                                <h4>夕食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                        </div>
                    </div>
                    <div class="day-column" data-day="wednesday">
                        <h3>水曜日</h3>
                        <div class="meals">
                            <div class="meal" data-meal="breakfast">
                                <h4>朝食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                            <div class="meal" data-meal="lunch">
                                <h4>昼食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                            <div class="meal" data-meal="dinner">
                                <h4>夕食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                        </div>
                    </div>
                    <div class="day-column" data-day="thursday">
                        <h3>木曜日</h3>
                        <div class="meals">
                            <div class="meal" data-meal="breakfast">
                                <h4>朝食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                            <div class="meal" data-meal="lunch">
                                <h4>昼食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                            <div class="meal" data-meal="dinner">
                                <h4>夕食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                        </div>
                    </div>
                    <div class="day-column" data-day="friday">
                        <h3>金曜日</h3>
                        <div class="meals">
                            <div class="meal" data-meal="breakfast">
                                <h4>朝食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                            <div class="meal" data-meal="lunch">
                                <h4>昼食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                            <div class="meal" data-meal="dinner">
                                <h4>夕食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                        </div>
                    </div>
                    <div class="day-column" data-day="saturday">
                        <h3>土曜日</h3>
                        <div class="meals">
                            <div class="meal" data-meal="breakfast">
                                <h4>朝食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                            <div class="meal" data-meal="lunch">
                                <h4>昼食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                            <div class="meal" data-meal="dinner">
                                <h4>夕食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                        </div>
                    </div>
                    <div class="day-column" data-day="sunday">
                        <h3>日曜日</h3>
                        <div class="meals">
                            <div class="meal" data-meal="breakfast">
                                <h4>朝食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                            <div class="meal" data-meal="lunch">
                                <h4>昼食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                            <div class="meal" data-meal="dinner">
                                <h4>夕食</h4>
                                <div class="meal-content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 買い物リストタブ -->
            <div id="shopping" class="tab-content">
                <h2>買い物リスト</h2>
                <button onclick="generateShoppingList()">リスト生成</button>
                <div class="shopping-list" id="shopping-list"></div>
            </div>

            <!-- 記録・分析タブ -->
            <div id="records" class="tab-content">
                <h2>記録・分析</h2>
                <div class="expense-record">
                    <h3>支出記録</h3>
                    <div class="add-expense">
                        <input type="date" id="expense-date">
                        <input type="text" id="expense-item" placeholder="購入品目">
                        <input type="number" id="expense-amount" placeholder="金額">
                        <button onclick="addExpense()">記録</button>
                    </div>
                    <div class="expense-list" id="expense-list"></div>
                </div>
                <div class="analysis">
                    <h3>分析結果</h3>
                    <div class="stats" id="stats"></div>
                </div>
            </div>
        </main>
    </div>
    <script src="script.js"></script>
</body>
</html>